{% extends 'base.html' %}

{% block title %}
    Sign Up
{% endblock %}

{% block body %}
    <div class="p-4">
        <h2 class="text-center">New Profile</h2>
        <form action="{% url 'basicapp:register' %}" method="post">
            {% csrf_token %}
            <div class="mt-4">
                <label for="name" class="form-label">Business Name</label>
                <input class='form-control' type="text" name="businessName" id="businessName" required>
            </div>

            <div class="mt-4">
                <label for="username" class="form-label">Username</label>
                <input class='form-control' type="text" name="username" id="username" required>
            </div>

            <div class="mt-4">
                <label for="pword" class="form-label">Password</label>
                <input class='form-control' type="password" name="pword" id="pword" required>
            </div>

            <div class="mt-4">
                <label for="pword2" class="form-label">Confirm Password</label>
                <input class='form-control' type="password" name="pword2" id="pword2" required>
            </div>
            <div class="mt-3">
                <input type="checkbox" name="show" id="show">
                <label for="show" class="form-label">Show Password</label>
            </div>
        </form>
        <div class="mt-5 text-center">
            <button class="btn btn-lg btn-primary text-center" id="prof-btn">
                <span class="spinner-border spinner-border-sm visually-hidden" aria-hidden="true" id="spinners"></span>
                <span role="status"  id="btn-text">Save</span>
            </button>
        </div>
    </div>
    {% block script %}
        <script>
            // Password Validation
            var pwd1 = document.getElementById('pword')
            var pwd2 = document.getElementById('pword2')
            var prof_btn = document.getElementById('prof-btn')
            pwd2.addEventListener('keyup', function(){
                if (pwd1.value == '' || pwd2.value == ''){
                    
                    pwd1.style.border = 'none';
                    pwd2.style.border = 'none';
                    prof_btn.setAttribute('disabled', true)
                }else{
                    if(pwd1.value == pwd2.value){
                        
                        pwd1.style.border = '2px rgb(54, 160, 54) solid';
                        pwd2.style.border = '2px rgb(54, 160, 54) solid';
                        prof_btn.disabled = false;
                    }else{
                        
                        pwd1.style.border = '2px rgb(233, 65, 65) solid';
                        pwd2.style.border = '2px rgb(233, 65, 65) solid';
                        prof_btn.setAttribute('disabled', true)
                    }
                }
            })

        </script>
    {% endblock %}
{% endblock %}